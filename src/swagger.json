{
    "openapi": "3.0.0",
    "info": {
        "title": "Api Banco Hzhong Documetancao",
        "description": "Api Banco Hzhong",
        "version": "2.0.15",
        "contact": {
            "email": "newlabshzhong@gmail.com"
        }
    },
    "paths": {
        "/users": {
            "post":{
                "tags": ["acconts"],
                "sumary": "criacao usuarios",
                "description": "Criacao de um novo usuario",
                "requestBody": {
                    "content":{
                        "application/json":{
                            "schema":{
                                "type":"object",
                                "properties": {
                                    "username": {
                                        "type": "string"    
                                    },
                                    "name": {
                                        "type":"string"
                                    },
                                    "email":{
                                        "type": "string"
                                    },
                                    "nasc": {
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "name": "userTest",
                                    "email": "user@test.com",
                                    "senha": "user#123.Test",
                                    "typeaccont": "poupanca"
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name":"password",
                        "in": "header",
                        "description": "primeira senha",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "12345678"
                    },
                    {
                        "name":"password2",
                        "in": "header",
                        "description": "repita a senha",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "12345678"
                    },
                    {
                        "name":"cpf",
                        "in": "header",
                        "description": "coloque o cpf valido",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "88888888808"
                    }
                ],
                "responses": {
                    "400": {
                      "description": "Ja existente uma conta"
                    },
                    "201": {
                        "description": "conta criada"
                    }
                  }
            }      
        },
        "/users/show": {
            "get": {
                "tags": ["acconts"],
                "sumary": "infos de usuario",
                "description": "pegar infos de usuario",
                "requestBody": {
                    "content":{
                        "application/json":{
                           
                        }
                    }
                },
                "parameters": [
                    {
                        "name":"Authorization",
                        "in": "header",
                        "description": "authorization token",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0b3B0YWwuY29tIiwiZXhwIjoxNDI2NDIwODAwLCJodHRwOi8vdG9wdGFsLmNvbS9qd3RfY2xhaW1zL2lzX2FkbWluIjp0cnVlLCJjb21wYW55IjoiVG9wdGFsIiwiYXdlc29tZSI6dHJ1ZX0.yRQYnWzskCZUxPwaQupWkiUzKELZ49eM7oWxAQK_ZXw"
                    }
                ],
                "responses": {
                    "400": {
                      "description": "usuario nao encontrado"
                    },
                    "202": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "userSend": {
                                            "type": "object",
                                            "properties": {
                                                "name": {
                                                    "type":"string"
                                                },
                                                "username": {
                                                    "type":"string"
                                                }, 
                                                "saldo": {
                                                    "type":"number"
                                                },
                                                "typeaccont": {
                                                    "type":"string"
                                                },
                                                "keypix": {
                                                    "type":"string"
                                                }
                                            }    
                                        },
                                        "extracts": {
                                            "type":"array",
                                            "properties": {
                                                "type":"object",
                                                "properties": {
                                                    "tipo": {
                                                        "type":"string"
                                                    },
                                                    "saldo": {
                                                        "type":"number"
                                                    },
                                                    "data": {
                                                        "type":"date"
                                                    },
                                                    "descricao": {
                                                        "type":"string"
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "example":{
                                        "dados": {
                                            "userSend": {
                                                "name": "user Test",
                                                "username":"userTestSuper",
                                                "saldo": 5000,
                                                "typeaccont": "poupanca",
                                                "keypix": null
                                            },
                                            "extracts": [
                                                {
                                                    "tipo":"saque",
                                                    "saldo": 258,
                                                    "data": "05/05/2023",
                                                    "descricao": "Voce sacou R$258,00"
                                                },
                                                {
                                                    "tipo":"saque",
                                                    "saldo": 258,
                                                    "data": "05/05/2023",
                                                    "descricao": "Voce sacou R$258,00"
                                                },
                                                {
                                                    "tipo":"saque",
                                                    "saldo": 258,
                                                    "data": "05/05/2023",
                                                    "descricao": "Voce sacou R$258,00"
                                                }
                                            ]
                                        }
                                    }
                                }
                                }
                            }
                        }
                  }
            }

        },
        "users/sessions": {
            "post":{
                "tags": ["acconts"],
                "sumary": "login do usuario",
                "description": "criando uma sessao para o usuario",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema":{
                                "type":"object",
                                "properties":{
                                    "username": {
                                        "type":"string"
                                    },
                                    "password": {
                                        "type":"string"
                                    }
                                },
                                "example": {
                                    "username": "userTest1",
                                    "password": "12345678"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "202":{
                        "content": {
                            "application/json": {
                                "type": "object",
                                "properties": {
                                    "token": {
                                        "type": "string"
                                    }
                                },
                                "example": {
                                    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2ODQ4NTIxNTAsImV4cCI6MTY4NDkzODU1MCwic3ViIjoiMiJ9.lWUgvkjnemvlehpivcnepgOYbSdsovbjweblsYXS8kRXkN5i6Qb6jgGvokDpoiircpx63I"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Senha Ou Username digitada esta errada"
                    }
                }            
            }
            
        },
        "users/sendingMoney": {
            "patch": {
                "tags": ["transactions"],
                "sumary": "envio de dinheiro",
                "description": "envio de dinheiro para outro usuario",
                "requestBody": {
                    "content": {
                        "application/json": {
                           "schema": {
                                "type":"object",
                                "properties": {
                                    "deposit": {
                                        "type":"number"
                                    },
                                    "keypix": {
                                        "type": "string"
                                    }
                                },
                                "example": {
                                    "deposit": 50,
                                    "keypix": "vbsvSBOV4554-fdbhkjndfpbad-jbkvdfvfbvkdoutrs"
                                }
                           }
                        }
                    }
                },
                "parameters": [
                    {
                        "name":"Authorization",
                        "in": "header",
                        "description": "authorization token",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0b3B0YWwuY29tIiwiZXhwIjoxNDI2NDIwODAwLCJodHRwOi8vdG9wdGFsLmNvbS9qd3RfY2xhaW1zL2lzX2FkbWluIjp0cnVlLCJjb21wYW55IjoiVG9wdGFsIiwiYXdlc29tZSI6dHJ1ZX0.yRQYnWzskCZUxPwaQupWkiUzKELZ49eM7oWxAQK_ZXw"
                    }
                ],
                "responses": {
                    "400": {
                        "description":"saldo invalido"
                    },
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "extratos": {
                                            "type": "object",
                                            "properties": {
                                                "send": {
                                                    "type":"object",
                                                    "properties": {
                                                        "id_user": {
                                                            "type":"number"
                                                        },
                                                        "name": {
                                                            "type":"string"
                                                        },
                                                        "tipo": {
                                                            "type":"string"
                                                        },
                                                        "saldo": {
                                                            "type":"number"
                                                        },
                                                        "data": {
                                                            "type":"date"
                                                        },
                                                        "descricao": {
                                                            "type":"string"
                                                        }
                                                    }
                                                },
                                                "receive": {
                                                    "type":"object",
                                                    "properties": {
                                                        "id_user": {
                                                            "type":"number"
                                                        },
                                                        "name": {
                                                            "type":"string"
                                                        },
                                                        "tipo": {
                                                            "type":"string"
                                                        },
                                                        "saldo": {
                                                            "type":"number"
                                                        },
                                                        "data": {
                                                            "type":"date"
                                                        },
                                                        "descricao": {
                                                            "type":"string"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        },
                                        "example":{
                                            "extracts": {
                                                "send": {
                                                    "id_user": 1,
                                                    "name": "user Test",
                                                    "tipo": "transaferencia(envio)",
                                                    "saldo": 50,
                                                    "data": "05/05/2023",
                                                    "descricao": "Voce transaferiu R$50,00 para test2"
                                                },
                                                "receive": {
                                                    "id_user": 2,
                                                    "name": "user Test2",
                                                    "tipo": "transaferencia(recebido)",
                                                    "saldo": 50,
                                                    "data": "05/05/2023",
                                                    "descricao": "Voce recebeu R$50,00 de test"
                                                }
                                            }
                                    }
                                }
                            }
                        }
                    }
                }   
            }
        },
        "users/extracts": {
            "get": {
                "tags":["transactions"],
                "sumary": "extratos por data",
                "description": "extratos por data especifica",
                "parameters": [
                    {
                        "name":"Authorization",
                        "in": "header",
                        "description": "authorization token",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0b3B0YWwuY29tIiwiZXhwIjoxNDI2NDIwODAwLCJodHRwOi8vdG9wdGFsLmNvbS9qd3RfY2xhaW1zL2lzX2FkbWluIjp0cnVlLCJjb21wYW55IjoiVG9wdGFsIiwiYXdlc29tZSI6dHJ1ZX0.yRQYnWzskCZUxPwaQupWkiUzKELZ49eM7oWxAQK_ZXw"
                    },
                    {
                        "name":"dateInicial",
                        "in": "query",
                        "schema": {
                            "type": "date"
                        },
                        "example": "05-02-2023"
                    },
                    {
                        "name":"dateFinal",
                        "in": "query",
                        "schema": {
                            "type": "date"
                        },
                        "example": "05-02-2023"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "schema": {
                                "type":"array",
                                "properties": {
                                    "type":"object",
                                    "properties":{
                                        "tipo": {
                                            "type":"string"
                                        },
                                        "saldo": {
                                            "type":"number"
                                        },
                                        "data": {
                                            "type":"date"
                                        },
                                        "descricao": {
                                            "type":"string"
                                        }
                                    }
                                },
                                "example": {
                                    "extratos": [
                                        {
                                            "tipo":"saque",
                                            "saldo": 258,
                                            "data": "05/05/2023",
                                            "descricao": "Voce sacou R$258,00"
                                        },
                                        {
                                            "tipo":"saque",
                                            "saldo": 258,
                                            "data": "05/05/2023",
                                            "descricao": "Voce sacou R$258,00"
                                        },
                                        {
                                            "tipo":"saque",
                                            "saldo": 258,
                                            "data": "05/05/2023",
                                            "descricao": "Voce sacou R$258,00"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "users/deposit": {
            "patch": {
                "tags":["transactions"],
                "sumary":"deposito de dinheiro",
                "description":"Deposito de dinheiro",
                "requestBody":{
                    "content":{
                        "application/json":{
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "deposit": {
                                        "type":"number"
                                    }
                                },
                                "example": {
                                    "deposit": 58
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name":"Authorization",
                        "in": "header",
                        "description": "authorization token",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0b3B0YWwuY29tIiwiZXhwIjoxNDI2NDIwODAwLCJodHRwOi8vdG9wdGFsLmNvbS9qd3RfY2xhaW1zL2lzX2FkbWluIjp0cnVlLCJjb21wYW55IjoiVG9wdGFsIiwiYXdlc29tZSI6dHJ1ZX0.yRQYnWzskCZUxPwaQupWkiUzKELZ49eM7oWxAQK_ZXw"
                    }
                ],
                "responses": {
                    "400": {
                        "description":"saldo invalido"
                    },
                    "202": {
                        "description":"Deposito efetuado com sucesso"
                    }
                }
            }
        },
        "users/withdraw": {
            "patch": {
                "tags":["transactions"],
                "sumary":"saque de dinheiro",
                "description": "saque de dinheiro do usuario",
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type":"object",
                                "properties": {
                                    "valueWithdraw":  {
                                        "type":"number"
                                    }
                                },
                                "example": {
                                    "valueWithdraw": 50
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name":"Authorization",
                        "in": "header",
                        "description": "authorization token",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0b3B0YWwuY29tIiwiZXhwIjoxNDI2NDIwODAwLCJodHRwOi8vdG9wdGFsLmNvbS9qd3RfY2xhaW1zL2lzX2FkbWluIjp0cnVlLCJjb21wYW55IjoiVG9wdGFsIiwiYXdlc29tZSI6dHJ1ZX0.yRQYnWzskCZUxPwaQupWkiUzKELZ49eM7oWxAQK_ZXw"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Saque efetuado com sucesso"
                    },
                    "400":{
                        "description": "saldo invalido"
                    }
                }
            }
        },
        "users/keys": {
            "post": {
                "tags":["keys"],
                "sumary": "Criacao de chave",
                "description": "criacao de uma chave",
                "parameters": [
                    {
                        "name":"Authorization",
                        "in": "header",
                        "description": "authorization token",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0b3B0YWwuY29tIiwiZXhwIjoxNDI2NDIwODAwLCJodHRwOi8vdG9wdGFsLmNvbS9qd3RfY2xhaW1zL2lzX2FkbWluIjp0cnVlLCJjb21wYW55IjoiVG9wdGFsIiwiYXdlc29tZSI6dHJ1ZX0.yRQYnWzskCZUxPwaQupWkiUzKELZ49eM7oWxAQK_ZXw"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "schema": {
                                "type":"object",
                                "properties":{
                                    "keypix": {
                                        "type":"string"
                                    }
                                },
                                "example": {
                                    "keypix":"vbsvSBOV4554-fdbhkjndfpbad-jbkvdfvfbvkdoutrs"
                                }
                            }
                        }
                    }, 
                    "400": {
                        "description": "Voce ja possui uma chave pix"
                    }
                }
            },
            "get": {
                "tags":["keys"],
                "sumary": "Monstrar keypix",
                "description":"Conseguir ver a sua chave pix",
                "parameters": [
                    {
                        "name":"Authorization",
                        "in": "header",
                        "description": "authorization token",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0b3B0YWwuY29tIiwiZXhwIjoxNDI2NDIwODAwLCJodHRwOi8vdG9wdGFsLmNvbS9qd3RfY2xhaW1zL2lzX2FkbWluIjp0cnVlLCJjb21wYW55IjoiVG9wdGFsIiwiYXdlc29tZSI6dHJ1ZX0.yRQYnWzskCZUxPwaQupWkiUzKELZ49eM7oWxAQK_ZXw"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "schema": {
                                "type":"object",
                                "properties":{
                                    "keypix": {
                                        "type":"string"
                                    }
                                },
                                "example": {
                                    "keypix":"vbsvSBOV4554-fdbhkjndfpbad-jbkvdfvfbvkdoutrs"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Voce nao tem uma chave pix"
                    }
                }
            },
            "delete": {
                "tags": ["keys"],
                "sumary": "Excluir chave pix",
                "description": "exlusao de chave pix da conta",
                "parameters": [
                    {
                        "name":"Authorization",
                        "in": "header",
                        "description": "authorization token",
                        "required": "true",
                        "schema": {
                            "type":"string" 
                        },
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0b3B0YWwuY29tIiwiZXhwIjoxNDI2NDIwODAwLCJodHRwOi8vdG9wdGFsLmNvbS9qd3RfY2xhaW1zL2lzX2FkbWluIjp0cnVlLCJjb21wYW55IjoiVG9wdGFsIiwiYXdlc29tZSI6dHJ1ZX0.yRQYnWzskCZUxPwaQupWkiUzKELZ49eM7oWxAQK_ZXw"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chave pix deletada com sucesso"
                    },
                    "400": {
                        "description":"Impossivel deletar uma chave que não existe"
                    }
                }
            }
           
        }
    }
}
